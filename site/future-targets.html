<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Future Targets | CAR Website</title>
	<link href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
	<script src="https://code.jquery.com/jquery-3.3.1.js" type="text/javascript"></script>
	<script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js" type="text/javascript"></script>
</head>

<body>
	% include(menuFile)
	<!-- keep everything in a fixed width container -->
	<div class="container">
		<div class="main-wrapper">
			<br />
			<h2>Future Targets</h2>
			<br />
			<br />
			<h3>Using Target Options File: {{targetOptionsFile}}</h3>
			<br />
			<br />
			% if diffFile != None:
			Note -- Change file found: <a href="/{{diffFileURL}}">{{diffFile}}</a>
			% end
			<br />
			<br />
			<hr />
			<table class="table">
				<thead class="thead-light">
					<tr>
						<th colspan="5">
							<h4>Site Status/Selectability</h4>
						</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td class="table-danger">TCCON Site Off-Line</td>
						<td class="table-success">TCCON Site On-Line</td>
						<td style="background: #C3B1E1;">Site is out of bounds</td>
                        <td style="background: #9CE3FF;">Refer to Target Rules</td>
					</tr>
				</tbody>
			</table>
			<hr />
			<br />
			<br />
			<form action="/future-targets/confirm" method="POST">
				% for thisOrbit in orbits:
				<table id="" class="display dataTable" width="100%">
					<tbody class="table-hover">
						<tr>
                            <td width="25%">Orbit #<a href="{{info[thisOrbit]['orbitURL']}}{{thisOrbit}}.html">{{thisOrbit}}</a></td>
	    				    <td width="25%">Path #{{info[thisOrbit]['path']}}</td>
                            % if info[thisOrbit]['dayOfWeek'] == 5:
                            <td width="25%" style="background: #9CE3FF;">Date: {{info[thisOrbit]['date']}}</td>
                            % else:
    						<td width="25%">Date: {{info[thisOrbit]['date']}}</td>
                            % end
							<td width="25%">
                                %if info[thisOrbit]['contactCheck'] < 1:
                                <select id="{{thisOrbit}}-selection" name="{{thisOrbit}}-selection">
									% if info[thisOrbit]['selected'] == 'noTargetSelected':
									<option value="noTargetSelected" SELECTED>- </option>
									%end
									% for name in info[thisOrbit]['selections']:
									% if info[thisOrbit]['selected'] in name:
									<option value="{{name}}" SELECTED>{{name}}</option>
									% else:
									<option value="{{name}}">{{name}}</option>
									% end
									% end
								</select>
                                %end
							</td>
						</tr>
						<tr>
							<th>Target Name</th>
							<th>Heading from Target to Path</th>
							<th>Range (km)</th>
							<th>Note</th>
						</tr>
						% for thisInfo in info[thisOrbit]['list']:
						%if thisInfo['outOfBounds'] == True:
						<tr>
							<td style="background: #C3B1E1;"><a href="/sites/{{thisInfo['name']}}">{{thisInfo['name']}}</a></td>
							<td style="background: #C3B1E1;">{{thisInfo['heading']}}</td>
							<td style="background: #C3B1E1;">{{thisInfo['rangeKm']}}</td>
							<td style="background: #C3B1E1;">
                                {{thisInfo['note']}}
                                % if thisInfo['deltaTime']:
                                    <br />
                                    {{thisInfo['deltaTime']}}
                                %end
                            </td>
						</tr>
						%elif thisInfo['tcconStatusValue'] == 0:
						<tr>
							<td class="table-danger"><a href="/sites/{{thisInfo['name']}}">{{thisInfo['name']}}</a></td>
							<td class="table-danger">{{thisInfo['heading']}}</td>
							<td class="table-danger">{{thisInfo['rangeKm']}}</td>
							<td class="table-danger">{{thisInfo['note']}}</td>
						</tr>
						%elif thisInfo['tcconStatusValue'] == 1:
						<tr>
							<td class="table-success"><a href="/sites/{{thisInfo['name']}}">{{thisInfo['name']}}</a>
							</td>
							<td class="table-success">{{thisInfo['heading']}}</td>
							<td class="table-success">{{thisInfo['rangeKm']}}</td>
							<td class="table-success">{{thisInfo['note']}}</td>
						</tr>
						%else:
						<tr>
							<td><a href="/sites/{{thisInfo['name']}}">{{thisInfo['name']}}</a></td>
							<td>{{thisInfo['heading']}}</td>
							<td>{{thisInfo['rangeKm']}}</td>
							<td>{{thisInfo['note']}}</td>
						</tr>
						%end
						%end
					</tbody>
				</table>
				<br />
				<br />
				<hr style="border: 1px solid black;" />
				<br />
				<br />
				% end
				<input type="hidden" name="orbits" value="{{orbits}}" />
				<input type="hidden" name="odfID" value="{{odfID}}" />
				<input type="submit" alt="submit" title="Submit" value="Submit Changes" />
			</form>
			<br />
			<br />
			<hr />
			<h2>Additional Information</h2>
			<br />
			<br />
			<table class="table">
				<thead class="thead-light">
					<tr>
						<th colspan="5">
							<h4>Site Status/Selectability</h4>
						</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td class="table-danger">TCCON Site Off-Line</td>
						<td class="table-success">TCCON Site On-Line</td>
						<td style="background: #C3B1E1;">Site is out of bounds</td>
                        <td style="background: #9CE3FF;">Refer to Target Rules</td>
					</tr>
				</tbody>
			</table>
			</p>
		</div>
	</div>
	% include(footerFile)
</body>

</html>
